bool encodeCompact(object_t group, blink_stream_t out)
{
    bool retval = false;

    switch(group->type){
<%@schema.groups.select{|g|g.id}.each do |g| -%>
    case TYPE_<%= gname(g) %>:
        retval = <%= gname(g) %>_encodeCompactGroup((struct <%= gname(g) %> *)group, blink_stream_t out);
        break;
<%end -%>
<%@schema.groups.select{|g|g.id.nil?}.each do |g| -%>
    case <%= gname(g) %>:
<%end -%>
    default:
        /* cannot encode */
        break;
    }

    return retval;
}
